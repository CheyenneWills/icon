#  A simple test of a few standard C functions
#  for Unix platforms that implement loadfunc().

link cfunc

procedure main()
   local e, i, l

   every i := 500 to 513 do
      gen(bitcount, i)
   gen(vword, 314159)
   gen(lgconv, 10^30)
   gen(unpack, "abcd")
   gen(pack, 1684234849)

   # test external values
   l := [ extvtest1(23, 45), extvtest0(), 0, extvtest1(78, 13),
      "s", extvtest0(), extvtest1(23, 8), extvtest1(39, 91), ]
   l := sort(l)
   write()
   every e := !l do {
      write(type(e), ": ", image(e))
      }
end

procedure gen(p, a)
   write(image(p), "(", image(a), ") = ", p(a) | "[failed]")
   return
end
